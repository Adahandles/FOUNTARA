<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Orange Springs – Fountara Project</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="assets/css/orange-springs.css">
    <style>
        /* Additional minimal styling consistent with site theme */
        body { font-family: sans-serif; color: #022630; line-height: 1.6; }
        header, nav, section { padding: 20px; max-width: 960px; margin: 0 auto; }
        nav a { color: #003040; margin-right: 15px; text-decoration: none; }
        nav a:hover { text-decoration: underline; }
        h1, h2, h3 { color: #003040; margin-top: 1.2em; }
        figure { margin: 0; }
        figcaption { font-size: 0.9em; color: #555; }
        .section-image { width: 100%; max-width: 100%; height: auto; border-radius: 8px; }
        #map { width: 100%; height: 400px; margin-top: 20px; border: 1px solid #ccc; }
        .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        @media (max-width: 700px) {
            .two-col { grid-template-columns: 1fr; }
        }
    </style>
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" integrity="sha384-sA+e6P3WdIerAbUqP6qiXgAO7XnjEz1QN8bw2JLqz6mRpxyE0FtKfaAaxxi6p+f5" crossorigin=""/>
</head>
<body>

<header>
    <h1>Orange Springs</h1>
    <nav>
        <a href="index.html">Home</a>
        <a href="#overview">Overview</a>
        <a href="#history">History</a>
        <a href="#science">Scientific &amp; Ecological</a>
        <a href="#research">Research &amp; Development</a>
    </nav>
</header>

<section id="overview">
    <h2>Overview</h2>
    <img src="assets/img/orange-spring-1.jpg" alt="Orange Springs pool" class="section-image">
    <p>
        Orange Springs is a natural mineral spring located in northeast Marion County, Florida. The spring and its 67‑acre surroundings were one of Florida’s earliest health resorts, and today they form the heart of Fountara’s sustainable spring‑water project. The spring discharges millions of gallons of water per day and has a consumptive use permit that limits withdrawals to about 200,000 gallons daily, ensuring the spring’s continued flow. Fountara bottles this water in recyclable aluminum cans, combining modern sustainability with a commitment to protecting Orange Springs’ natural heritage.
    </p>
</section>

<section id="history">
    <h2>History</h2>
    <div class="two-col">
        <figure>
            <img src="assets/img/orange2.jpg" alt="Historic sign at Orange Springs" class="section-image">
            <figcaption>Historic marker summarizing Orange Springs’ past as a health resort and Civil War refuge.</figcaption>
        </figure>
        <div>
            <p>
                Native peoples valued Florida’s springs long before Europeans arrived. By the 1820s, settlers had noted Orange Springs, and during the Second Seminole War (1835–1842) Fort Russell was erected nearby. After the war the 1842 Armed Occupation Act lured American settlers to the region. In 1843, John W. Pearson and Senator David Levy Yulee purchased the land and developed Orange Springs into a fashionable health resort. By the early 1850s the site had a large hotel, mills and shops, and a church; visitors travelled by steamboat and stagecoach to “take the waters”.
            </p>
            <p>
                The Civil War saw Pearson convert his machinery into an arms factory and organize the “Oklawaha Rangers” militia. After his death in 1864 and a post‑war tax sale in 1875, Orange Springs declined. Turpentine entrepreneur James W. Townsend bought the property before 1900 and in 1912 built the two‑story frame house still standing today. Although early 20th‑century boosters tried to revive tourism – even dubbing the spring a “Fountain of Youth” – the hotel closed, the Ocala Northern Railroad spur was abandoned, and the spring returned to quiet rural use. Orange Springs remained a local swimming hole until circa 1990, when a bottling plant opened and public access was closed. A state marker now commemorates its colourful past.
            </p>
        </div>
    </div>

    <figure style="margin-top:20px;">
        <img src="assets/img/townsend-house-orange-springs01.jpg" alt="Townsend House at Orange Springs" class="section-image">
        <!-- Updated caption to remove mention of Fountara using the house as an office -->
        <figcaption>The Townsend House, built in 1912, is a historic landmark.</figcaption>
    </figure>
</section>

<section id="science">
    <h2>Scientific &amp; Ecological Features</h2>
    <p>
        Orange Springs is a window into Florida’s karst geology. The spring emerges from the Floridan Aquifer, producing a pool about 85 × 100 ft with a depth of 20 ft at its limestone vent. Its clear, green‑tinged water carries a noticeable sulfur odor caused by hydrogen sulfide, a product of organic matter deep underground. The pool supports algae and sulfur‑loving bacteria and overflows into a shallow run feeding Orange Creek. The surrounding forest provides habitat for fish, turtles, and wading birds while filtering runoff.
    </p>
    <p>
        Water quality at Orange Springs remains high. Its constant 72 °F (22 °C) temperature, calcium‑rich chemistry and neutral pH make it a healthy ecosystem. Unlike some Florida springs, Orange Springs shows little nitrate pollution. A consumptive use permit ensures withdrawals stay within sustainable limits and regular monitoring tracks flow and chemistry to detect any changes.
    </p>
</section>

<section id="research">
    <h2>Research &amp; Development</h2>
    <p>
        Responsible stewardship is central to Fountara’s work at Orange Springs. Water is drawn via an underground pipe to minimize disturbance, then aerated and filtered to remove natural sulfur odors before bottling. Researchers are interested in the spring’s microbial ecology; white sulfur‑oxidizing bacteria (*Thiothrix* spp.) thrive on its sulfide‑rich waters and have been studied to better understand nutrient cycling. State agencies include Orange Springs in monitoring networks, tracking water flow, temperature, oxygen and nutrient levels. 
    </p>
    <p>
        Fountara’s vision extends beyond bottling. The team envisions an interactive map tool that displays real‑time data and illustrates how Orange Springs links to the broader Ocklawaha and St. Johns River systems. By combining historical interpretation, ecological research and community education, we aim to celebrate Orange Springs’ heritage while ensuring its waters remain a vibrant, protected resource for generations to come.
    </p>
</section>

<section id="map-section">
    <h3>Interactive Map</h3>
    <p>This map overlays several data layers (spring locations, historic parcels and more). Use the layer control to toggle each dataset.</p>
    <div id="map"></div>
</section>

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js" integrity="sha384-mJAyhpQgEZNauJ/etOZkP2fdsjRKu+eQ16YkCm5rYwgxAKdNaYTX3n1fJIT6B5E+" crossorigin=""></script>
<script>
  // Initialize map
  var map = L.map('map').setView([29.509, -81.833], 14);

  // Base layer
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; OpenStreetMap contributors',
    maxZoom: 19
  }).addTo(map);

  // GeoJSON layers
  const geojsonFiles = [
    'data/orangesprings.geojson',
    'data/seminolesprings.geojson',
    'data/mcpa-parcel-datagw.geojson',
    'data/mcpa-parcel-datagw1.geojson',
    'data/mcpa-parcel-datagw2.geojson',
    'data/mcpa-parcel-datagreenway.geojson'
  ];

  var layerControl = L.control.layers(null, null).addTo(map);

  // Load all GeoJSON files and handle results
  var loadPromises = geojsonFiles.map(function(file) {
    return fetch(file)
      .then(function(resp) {
        if (!resp.ok) {
          throw new Error('HTTP ' + resp.status + ': ' + resp.statusText);
        }
        return resp.json();
      })
      .then(function(data) {
        var layer = L.geoJSON(data, {
          style: function (feature) {
            return { color: '#ff7800', weight: 1 };
          }
        }).addTo(map);
        layerControl.addOverlay(layer, file.replace(/data\//, '').replace(/\.geojson/, ''));
        console.log('✓ Successfully loaded:', file);
        return { status: 'success', file: file };
      })
      .catch(function(err) {
        console.warn('✗ Failed to load ' + file + ':', err.message);
        return { status: 'failed', file: file, error: err.message };
      });
  });

  // After all files are processed, display summary if needed
  Promise.allSettled(loadPromises).then(function(results) {
    var loadedFiles = [];
    var failedFiles = [];
    
    results.forEach(function(result) {
      if (result.status === 'fulfilled') {
        if (result.value.status === 'success') {
          loadedFiles.push(result.value.file);
        } else {
          failedFiles.push(result.value.file);
        }
      } else {
        // This shouldn't happen since we catch errors, but handle it anyway
        failedFiles.push('unknown');
      }
    });

    if (failedFiles.length > 0) {
      var message = '<strong>Map Data Status:</strong><br>';
      if (loadedFiles.length === 0) {
        message += 'GeoJSON data files are not yet available. The base map is shown.<br><br>';
      } else {
        message += loadedFiles.length + ' of ' + geojsonFiles.length + ' data layers loaded successfully.<br><br>';
      }
      message += '<strong>Failed to load:</strong><br>';
      failedFiles.forEach(function(f) {
        message += '• ' + f.replace('data/', '') + '<br>';
      });
      
      // Display message on map
      var popup = L.popup({
        closeButton: true,
        autoClose: false,
        closeOnClick: false
      })
        .setLatLng(map.getCenter())
        .setContent(message)
        .openOn(map);
    } else {
      console.log('✓ All ' + loadedFiles.length + ' GeoJSON layers loaded successfully');
    }
  });
</script>

</body>
</html>