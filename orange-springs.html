<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Orange Springs Restoration &amp; Preservation Project</title>
  <!-- Leaflet CSS -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css"
    crossorigin=""
  />
  <style>
    /* Basic styling to mirror the existing restoration pages */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      color: #222;
      background: #f2f5fa;
    }
    header {
      background: #124559;
      color: #fff;
      padding: 20px;
      text-align: center;
    }
    nav {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      background: #0e3145;
    }
    nav a {
      color: #fff;
      margin: 0 15px;
      padding: 10px 0;
      text-decoration: none;
    }
    nav a:hover {
      text-decoration: underline;
    }
    .content {
      max-width: 1200px;
      margin: auto;
      padding: 20px;
    }
    h2 {
      color: #124559;
      margin-top: 1.5em;
    }
    #map {
      width: 100%;
      height: 600px;
      border: 1px solid #ccc;
      border-radius: 4px;
      margin-bottom: 20px;
    }
    .doc-links ul {
      list-style-type: none;
      padding-left: 0;
    }
    .doc-links li {
      margin-bottom: 0.5em;
    }
    footer {
      background: #124559;
      color: #fff;
      text-align: center;
      padding: 10px;
    }
  </style>
</head>
<body>
  <header>
    <h1>Orange Springs Restoration &amp; Preservation Project</h1>
    <p>Restoring and preserving the Orange Springs wetlands through community‑driven restoration and sustainable practices.</p>
  </header>
  <nav>
    <a href="#overview">Project Overview</a>
    <a href="#map-section">Interactive Map</a>
    <a href="#documents">Documents</a>
    <a href="#contact">Contact</a>
  </nav>
  <div class="content">
    <section id="overview">
      <h2>Project Overview</h2>
      <p>
        The Orange Springs Restoration &amp; Preservation Project aims to restore and enhance the natural springs and wetlands in the Orange Springs area of Florida.
        Our goal is to protect water quality, restore native vegetation, and provide educational and recreational opportunities.
        Restoration efforts are guided by research, local knowledge, and collaboration with agencies and stakeholders.
      </p>
    </section>

    <!-- Photos section showcasing the springs and historic Townsend house -->
    <section id="photos">
      <h2>Photos</h2>
      <div style="display:flex;flex-wrap:wrap;gap:1rem;">
        <figure style="flex:1;min-width:250px;">
          <img src="Orange1.jpg" alt="Orange Springs headwaters" style="width:100%;border-radius:8px;" />
          <figcaption style="text-align:center;margin-top:.5rem;font-size:.9rem;color:#555;">Orange Springs headwaters</figcaption>
        </figure>
        <figure style="flex:1;min-width:250px;">
          <img src="Townsend_House_Orange_Springs01.jpg" alt="James W. Townsend House" style="width:100%;border-radius:8px;" />
          <figcaption style="text-align:center;margin-top:.5rem;font-size:.9rem;color:#555;">Historic James W. Townsend House</figcaption>
        </figure>
      </div>
    </section>
    <section id="map-section">
      <h2>Interactive Restoration Map</h2>
      <p>
        Use the map below to explore overlays showing flood zones and the Orange Springs project parcels. Toggle layers on or off to visualize
        how the proposed restoration activities intersect with existing site conditions. Zoom in or out and click on features
        for details.
      </p>
      <div id="map"></div>
    </section>
    <section id="documents">
      <h2>Project Documents</h2>
      <p>Review our project documents below. Clicking a document opens it in an online viewer rather than downloading the file.</p>
      <div class="doc-links">
        <ul>
          <!-- Document links for the Orange Springs project; hosted in the MossBluffRestoration repository -->
          <li><a href="https://view.officeapps.live.com/op/embed.aspx?src=https://raw.githubusercontent.com/Adahandles/MossBluffRestoration/main/Fountara_Orange_Springs_Grant_Proposal.docx" target="_blank">Grant Proposal (View)</a></li>
          <li><a href="https://view.officeapps.live.com/op/embed.aspx?src=https://raw.githubusercontent.com/Adahandles/MossBluffRestoration/main/Orange_Springs_Restoration_Brief.docx" target="_blank">Restoration Brief (View)</a></li>
          <li><a href="https://view.officeapps.live.com/op/embed.aspx?src=https://raw.githubusercontent.com/Adahandles/MossBluffRestoration/main/Orange_Springs_Conditional_Purchase_and_Grantnomics_Plan.docx" target="_blank">Conditional Purchase &amp; Grantnomics Plan (View)</a></li>
          <li><a href="https://view.officeapps.live.com/op/embed.aspx?src=https://raw.githubusercontent.com/Adahandles/MossBluffRestoration/main/Fountara_Orange_Springs_Contractor_Document_Checklist.docx" target="_blank">Contractor Document Checklist (View)</a></li>
        </ul>
      </div>
    </section>

    <!-- Grant outline summarizing the restoration proposal and emergency water bag line -->
    <section id="grant-outline">
      <h2>Grant Outline</h2>
      <p>This section summarizes key points from our Orange Springs restoration grant proposal and introduces the emergency drinking water bag line.</p>
      <ul>
        <li><strong>Executive Summary:</strong> Fountara seeks funding to restore Seminole Spring, Orange Springs and the Orange Creek–Orange Lake corridor, while preserving the historic James W. Townsend House.</li>
        <li><strong>Purpose:</strong> Protect water quality, restore native ecosystems, and safeguard cultural resources across multiple counties.</li>
        <li><strong>Scope &amp; Phases:</strong> Perform archaeological surveys, remove invasive biomass, stabilize banks, replant natives, restore the historic Townsend House, and establish a conservation buffer and monitoring network.</li>
        <li><strong>Expected Outcomes:</strong> Reconnect spring flows, reduce invasive biomass by 90 %, achieve ≥75 % native plant coverage, stabilize eroding shorelines, protect cultural resources, and create a regional conservation corridor.</li>
        <li><strong>Emergency Drinking Water Bag Line:</strong> In parallel with restoration efforts, Fountara plans to deploy a portable water bagging line to provide emergency potable water during disasters. This line will produce sealed drinking‑water bags for distribution to affected communities as part of our long‑term sustainability plan.</li>
      </ul>
    </section>
    <section id="contact">
      <h2>Contact &amp; Partnerships</h2>
      <p>
        Interested in collaborating? If you represent an agency, nonprofit organization, academic institution, or private sector partner
        with interest in restoration and preservation of Orange Springs wetlands, we invite you to reach out. Together, we can restore and protect
        Orange Springs.
      </p>
      <p>Email us at <a href="mailto:info@fountara.com">info@fountara.com</a></p>
    </section>
  </div>
  <footer>
    &copy; 2025 Fountara, LLC. All rights reserved.
  </footer>
  <!-- Leaflet JS and Esri Leaflet Plugin -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js" crossorigin=""></script>
  <script src="https://cdn.jsdelivr.net/npm/esri-leaflet@3.0.9/dist/esri-leaflet.js"></script>
  <script>
    // Initialize the map near Orange Springs
    var map = L.map('map').setView([29.509, -81.944], 14);

    // Base layer: OpenStreetMap
    var baseLayer = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors'
    }).addTo(map);

    // Additional basemaps from Esri
    var topoLayer = L.esri.basemapLayer('Topographic');
    var satelliteLayer = L.esri.basemapLayer('Imagery');

    // Overlay layers: property parcels and flood zones from Marion County GIS
    var parcelsLayer = L.esri.dynamicMapLayer({
      url: 'https://gis.ocalafl.org/arcgis/rest/services/Public/Parcels/MapServer',
      opacity: 0.6
    });
    var floodLayer = L.esri.dynamicMapLayer({
      url: 'https://gis.marionfl.org/public/rest/services/General/Flood_Zones/MapServer',
      layers: [2, 3, 6, 7],
      opacity: 0.6
    });

    // Layer groups for base and overlays
    var baseMaps = {
      'OpenStreetMap': null,
      'Topo (Esri)': topoLayer,
      'Satellite (Esri)': satelliteLayer
    };
    var overlayMaps = {
      'Parcel Boundaries': parcelsLayer,
      'Flood Zones (2017)': floodLayer
    };
    var layerControl = L.control.layers(baseMaps, overlayMaps, { collapsed: false }).addTo(map);

    // Display overlays by default
    parcelsLayer.addTo(map);
    floodLayer.addTo(map);

    // We'll load Orange Springs and Seminole Springs parcels and split Orange Springs into government and private parcels.
    var orangeGovLayer, orangePrivateLayer, seminoleLayer;
    // Helper to determine if a parcel owner is a government or public entity
    function isGov(name) {
      if (!name) return false;
      return /county|state|city|town|district|public|authority|service|department/i.test(name);
    }
    function parcelPopup(feature, layer) {
      var props = feature.properties || {};
      var name = props.NAME || props.name || 'Parcel';
      var parcel = props.PARCEL || props.parcel || '';
      var acres = props.ACRES || props.acres || '';
      var info = '<strong>' + name + '</strong>';
      if (parcel) { info += '<br/>Parcel: ' + parcel; }
      if (acres) { info += '<br/>Acres: ' + acres; }
      layer.bindPopup(info);
    }
    Promise.all([
      fetch('https://raw.githubusercontent.com/Adahandles/MossBluffRestoration/main/orangesprings.geojson').then(function(r){ return r.json(); }),
      fetch('https://raw.githubusercontent.com/Adahandles/MossBluffRestoration/main/seminolesprings.geojson').then(function(r){ return r.json(); })
    ]).then(function(results) {
      var orangeData = results[0];
      var seminoleData = results[1];
      orangeGovLayer = L.geoJSON(orangeData, {
        filter: function(feature) {
          return isGov(feature.properties && (feature.properties.NAME || feature.properties.name));
        },
        style: function() { return { color: '#28a745', weight: 2, fillOpacity: 0.2 }; },
        onEachFeature: parcelPopup
      });
      orangePrivateLayer = L.geoJSON(orangeData, {
        filter: function(feature) {
          return !isGov(feature.properties && (feature.properties.NAME || feature.properties.name));
        },
        style: function() { return { color: '#ff8c00', weight: 2, fillOpacity: 0.2 }; },
        onEachFeature: parcelPopup
      });
      seminoleLayer = L.geoJSON(seminoleData, {
        style: function() { return { color: '#6a0dad', weight: 2, fillOpacity: 0.2 }; },
        onEachFeature: parcelPopup
      });
      layerControl.addOverlay(orangeGovLayer, 'Orange Springs Parcels (Gov)');
      layerControl.addOverlay(orangePrivateLayer, 'Orange Springs Parcels (Private)');
      layerControl.addOverlay(seminoleLayer, 'Seminole Springs Parcels');
      // Add them to the map by default
      orangeGovLayer.addTo(map);
      orangePrivateLayer.addTo(map);
      seminoleLayer.addTo(map);
      // Fit map to the combined bounds of all parcel layers
      var bounds = L.latLngBounds([]);
      [orangeGovLayer, orangePrivateLayer, seminoleLayer].forEach(function(l) {
        bounds.extend(l.getBounds());
      });
      map.fitBounds(bounds);
    });
  </script>
</body>
</html>