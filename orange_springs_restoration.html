<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Orange Springs Restoration &amp; Preservation Project</title>
  <!-- Leaflet CSS -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css"
    crossorigin=""
  />
  <style>
    /* Basic styling to mirror the existing restoration pages */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      color: #222;
      background: #f2f5fa;
    }
    header {
      background: #124559;
      color: #fff;
      padding: 20px;
      text-align: center;
    }
    nav {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      background: #0e3145;
    }
    nav a {
      color: #fff;
      margin: 0 15px;
      padding: 10px 0;
      text-decoration: none;
    }
    nav a:hover {
      text-decoration: underline;
    }
    .content {
      max-width: 1200px;
      margin: auto;
      padding: 20px;
    }
    h2 {
      color: #124559;
      margin-top: 1.5em;
    }
    #map {
      width: 100%;
      height: 600px;
      border: 1px solid #ccc;
      border-radius: 4px;
      margin-bottom: 20px;
    }
    .doc-links ul {
      list-style-type: none;
      padding-left: 0;
    }
    .doc-links li {
      margin-bottom: 0.5em;
    }
    footer {
      background: #124559;
      color: #fff;
      text-align: center;
      padding: 10px;
    }
  </style>
</head>
<body>
  <header>
    <h1>Orange Springs Restoration &amp; Preservation Project</h1>
    <p>Restoring and preserving the Orange Springs wetlands through communityâ€‘driven restoration and sustainable practices.</p>
  </header>
  <nav>
    <a href="#overview">Project Overview</a>
    <a href="#map-section">Interactive Map</a>
    <a href="#documents">Documents</a>
    <a href="#contact">Contact</a>
  </nav>
  <div class="content">
    <section id="overview">
      <h2>Project Overview</h2>
      <p>
        The Orange Springs Restoration &amp; Preservation Project aims to restore and enhance the natural springs and wetlands in the Orange Springs area of Florida.
        Our goal is to protect water quality, restore native vegetation, and provide educational and recreational opportunities.
        Restoration efforts are guided by research, local knowledge, and collaboration with agencies and stakeholders.
      </p>
    </section>
    <section id="map-section">
      <h2>Interactive Restoration Map</h2>
      <p>
        Use the map below to explore overlays showing flood zones and the Orange Springs project parcels. Toggle layers on or off to visualize
        how the proposed restoration activities intersect with existing site conditions. Zoom in or out and click on features
        for details.
      </p>
      <div id="map"></div>
    </section>
    <section id="documents">
      <h2>Project Documents</h2>
      <p>Review our project documents below. Clicking a document opens it in an online viewer rather than downloading the file.</p>
      <div class="doc-links">
        <ul>
          <!-- Document links for the Orange Springs project; hosted in the MossBluffRestoration repository -->
          <li><a href="https://view.officeapps.live.com/op/embed.aspx?src=https://raw.githubusercontent.com/Adahandles/MossBluffRestoration/main/Fountara_Orange_Springs_Grant_Proposal.docx" target="_blank">Grant Proposal (View)</a></li>
          <li><a href="https://view.officeapps.live.com/op/embed.aspx?src=https://raw.githubusercontent.com/Adahandles/MossBluffRestoration/main/Orange_Springs_Restoration_Brief.docx" target="_blank">Restoration Brief (View)</a></li>
          <li><a href="https://view.officeapps.live.com/op/embed.aspx?src=https://raw.githubusercontent.com/Adahandles/MossBluffRestoration/main/Orange_Springs_Conditional_Purchase_and_Grantnomics_Plan.docx" target="_blank">Conditional Purchase &amp; Grantnomics Plan (View)</a></li>
          <li><a href="https://view.officeapps.live.com/op/embed.aspx?src=https://raw.githubusercontent.com/Adahandles/MossBluffRestoration/main/Fountara_Orange_Springs_Contractor_Document_Checklist.docx" target="_blank">Contractor Document Checklist (View)</a></li>
        </ul>
      </div>
    </section>
    <section id="contact">
      <h2>Contact &amp; Partnerships</h2>
      <p>
        Interested in collaborating? If you represent an agency, nonprofit organization, academic institution, or private sector partner
        with interest in restoration and preservation of Orange Springs wetlands, we invite you to reach out. Together, we can restore and protect
        Orange Springs.
      </p>
      <p>Email us at <a href="mailto:info@fountara.com">info@fountara.com</a></p>
    </section>
  </div>
  <footer>
    &copy; 2025 Fountara, LLC. All rights reserved.
  </footer>
  <!-- Leaflet JS and Esri Leaflet Plugin -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js" crossorigin=""></script>
  <script src="https://cdn.jsdelivr.net/npm/esri-leaflet@3.0.9/dist/esri-leaflet.js"></script>
  <script>
    // Initialize the map near Orange Springs with broader regional view
    var map = L.map('map').setView([29.509, -81.944], 11);

    // Base layer: OpenStreetMap
    var baseLayer = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors'
    }).addTo(map);

    // Additional basemaps from Esri
    var topoLayer = L.esri.basemapLayer('Topographic');
    var satelliteLayer = L.esri.basemapLayer('Imagery');

    // Overlay layers: property parcels and flood zones from Marion County GIS
    var parcelsLayer = L.esri.dynamicMapLayer({
      url: 'https://gis.ocalafl.org/arcgis/rest/services/Public/Parcels/MapServer',
      opacity: 0.6
    });
    var floodLayer = L.esri.dynamicMapLayer({
      url: 'https://gis.marionfl.org/public/rest/services/General/Flood_Zones/MapServer',
      layers: [2, 3, 6, 7],
      opacity: 0.6
    });

    // Putnam County layers
    var putnamParcelsLayer = L.esri.dynamicMapLayer({
      url: 'https://maps.putnam-fl.com/arcgis/rest/services/Public/Parcels/MapServer',
      opacity: 0.5
    });
    var putnamZoningLayer = L.esri.dynamicMapLayer({
      url: 'https://maps.putnam-fl.com/arcgis/rest/services/Public/Zoning/MapServer',
      opacity: 0.5
    });
    var putnamRoadsLayer = L.esri.dynamicMapLayer({
      url: 'https://maps.putnam-fl.com/arcgis/rest/services/Public/Roads/MapServer',
      opacity: 0.5
    });

    // Alachua County layers
    var alachuaParcelsLayer = L.esri.dynamicMapLayer({
      url: 'https://maps.alachuacounty.us/arcgis/rest/services/External/PropertyAppraiser/MapServer',
      opacity: 0.5
    });
    var alachuaConservationLayer = L.esri.dynamicMapLayer({
      url: 'https://maps.alachuacounty.us/arcgis/rest/services/External/Conservation/MapServer',
      opacity: 0.5
    });
    var alachuaZoningLayer = L.esri.dynamicMapLayer({
      url: 'https://maps.alachuacounty.us/arcgis/rest/services/External/Zoning/MapServer',
      opacity: 0.5
    });

    // St. Johns River Water Management District (SJRWMD) layers
    var sjrwmdSurfaceWaterLayer = L.esri.dynamicMapLayer({
      url: 'https://ca.dep.state.fl.us/arcgis/rest/services/OpenData/SURFACE_WATER/MapServer',
      opacity: 0.5
    });
    var sjrwmdWetlandsLayer = L.esri.dynamicMapLayer({
      url: 'https://ca.dep.state.fl.us/arcgis/rest/services/OpenData/WETLANDS/MapServer',
      opacity: 0.5
    });
    var sjrwmdSpringsLayer = L.esri.dynamicMapLayer({
      url: 'https://ca.dep.state.fl.us/arcgis/rest/services/OpenData/SPRINGS/MapServer',
      opacity: 0.5
    });

    // Florida DEP Environmental layers
    var depProtectedAreasLayer = L.esri.dynamicMapLayer({
      url: 'https://ca.dep.state.fl.us/arcgis/rest/services/OpenData/PROTECTED_AREAS/MapServer',
      opacity: 0.5
    });
    var depConservationLandsLayer = L.esri.dynamicMapLayer({
      url: 'https://ca.dep.state.fl.us/arcgis/rest/services/OpenData/CONSERVATION_LANDS/MapServer',
      opacity: 0.5
    });

    // Layer groups for base and overlays
    var baseMaps = {
      'OpenStreetMap': null,
      'Topo (Esri)': topoLayer,
      'Satellite (Esri)': satelliteLayer
    };
    var overlayMaps = {
      'Marion - Parcels': parcelsLayer,
      'Marion - Flood Zones (2017)': floodLayer,
      'Putnam - Parcels': putnamParcelsLayer,
      'Putnam - Zoning': putnamZoningLayer,
      'Putnam - Roads': putnamRoadsLayer,
      'Alachua - Parcels': alachuaParcelsLayer,
      'Alachua - Conservation': alachuaConservationLayer,
      'Alachua - Zoning': alachuaZoningLayer,
      'SJRWMD - Surface Water': sjrwmdSurfaceWaterLayer,
      'SJRWMD - Wetlands': sjrwmdWetlandsLayer,
      'SJRWMD - Springs': sjrwmdSpringsLayer,
      'FL DEP - Protected Areas': depProtectedAreasLayer,
      'FL DEP - Conservation Lands': depConservationLandsLayer
    };
    var layerControl = L.control.layers(baseMaps, overlayMaps, { collapsed: false }).addTo(map);

    // Display overlays by default
    parcelsLayer.addTo(map);
    floodLayer.addTo(map);

    var orangeSpringsLayer;

    // Fetch the Orange Springs parcels from the MossBluffRestoration repository
    fetch('https://raw.githubusercontent.com/Adahandles/MossBluffRestoration/main/orangesprings.geojson')
      .then(function(response) { return response.json(); })
      .then(function(data) {
        orangeSpringsLayer = L.geoJSON(data, {
          style: function() {
            return { color: '#ff8c00', weight: 2, fillOpacity: 0.2 };
          },
          onEachFeature: function(feature, layer) {
            var props = feature.properties || {};
            var name = props.NAME || props.name || 'Orange Springs Parcel';
            var parcel = props.PARCEL || props.parcel || '';
            var acres = props.ACRES || props.acres || '';
            var info = '<strong>' + name + '</strong>';
            if (parcel) { info += '<br/>Parcel: ' + parcel; }
            if (acres) { info += '<br/>Acres: ' + acres; }
            layer.bindPopup(info);
          }
        });
        orangeSpringsLayer.addTo(map);
        layerControl.addOverlay(orangeSpringsLayer, 'Orange Springs Parcels');
        map.fitBounds(orangeSpringsLayer.getBounds());
      });
  </script>
</body>
</html>